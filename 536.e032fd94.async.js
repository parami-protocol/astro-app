"use strict";(self.webpackChunkmeta_astro=self.webpackChunkmeta_astro||[]).push([[536],{38755:function(ee,F,t){t.d(F,{Z:function(){return u}});var X=t(67294),o=t(99477),D=t(69365),v={backgroundContainer:"backgroundContainer___IPW5t",mask:"mask___YHl74"},B=t(85893),b=function(i){var e=i.speedup,g=i.pullup,n=i.leftDays,c=i.complex,x=[1e4,7e4],p=[1,.3],W=[1e3,9e3],Z=new o.dpR,k=Z.load("/particleShape/1.png"),P=new o.xsS,s={count:!!n&&n<=7?(x[1]-x[0])/7*(7-n+1):c?7e4:1e4,size:.01,radius:5,branches:!!n&&n<=7?7-n+1:7,spin:1,randomness:!!n&&n<=7?(p[1]-p[0])/7*(7-n+1):c?.3:.1,randomnessPower:5,stars:!!n&&n<=7?W[1]-W[0]/7*(7-n+1):9e3,starColor:"#1b3984",insideColor:"#ff5b00",outsideColor:"#1b3984"},a,L,I,O=function(){a=new o.u9r;for(var l=new Float32Array(s.count*3),d=new Float32Array(s.count*3),y=new o.Ilk(s.insideColor),E=new o.Ilk(s.outsideColor),m=0;m<s.count;m++){var j=Math.random()*s.radius,H=m%s.branches/s.branches*2*Math.PI,R=j*s.spin,V=Math.pow(Math.random(),s.randomnessPower)*(Math.random()<.5?1:-1),U=Math.pow(Math.random(),s.randomnessPower)*(Math.random()<.5?1:-1),Q=Math.pow(Math.random(),s.randomnessPower)*(Math.random()<.5?1:-1);l[m*3]=Math.sin(H+R)*j+V,l[m*3+1]=U,l[m*3+2]=Math.cos(H+R)*j+Q;var Y=y.clone();Y.lerp(E,j/s.radius),d[m*3+0]=Y.r,d[m*3+1]=Y.g,d[m*3+2]=Y.b}a.setAttribute("position",new o.TlE(l,3)),a.setAttribute("color",new o.TlE(d,3)),L=new o.UY4({color:"white",size:s.size,depthWrite:!1,sizeAttenuation:!0,blending:o.WMw,vertexColors:!0,transparent:!0,alphaMap:k}),I=new o.woe(a,L),P.add(I)},T,ae,z,oe=function(){T=new o.u9r;for(var l=new Float32Array(s.stars*3),d=0;d<s.stars;d++)l[d*3+0]=(Math.random()-.5)*20,l[d*3+1]=(Math.random()-.5)*20,l[d*3+2]=(Math.random()-.5)*20;T.setAttribute("position",new o.TlE(l,3)),ae=new o.UY4({size:s.size,depthWrite:!1,sizeAttenuation:!0,blending:o.WMw,color:s.starColor,transparent:!0,alphaMap:k}),z=new o.woe(T,ae),P.add(z)},w={width:window.innerWidth,height:window.innerHeight},h=new o.cPb(75,w.width/w.height,.1,50);h.position.x=3,h.position.y=3,h.position.z=3,P.add(h);var te=new o.SUY,M,C=function S(){if(M){var l=te.getElapsedTime();I.rotation.y=l*.1,z.rotation.y=-l*.05,e&&(I.rotation.y+=I.rotation.y*1.1,z.rotation.y+=z.rotation.y*1.1),g&&h.position.x>1&&(h.position.x-=.01,h.position.y-=.01,h.position.z-=.01),M.render(P,h,I,z),window.requestAnimationFrame(S)}else{window.requestAnimationFrame(S);return}};return(0,X.useEffect)(function(){var S=document.getElementById("backgroundContainer");document.createElement("canvas.webgl");var l=document.querySelector("canvas.webgl");l.remove(),S.appendChild(l),O(),oe();var d=new D.z(h,l);d.enableDamping=!0;var y=new o.CP7({canvas:l,stencil:!1,powerPreference:c?"high-performance":"low-power",depth:!!c,logarithmicDepthBuffer:!c});y.setSize(w.width,w.height),y.setPixelRatio(Math.min(window.devicePixelRatio,c?3:1)),M=y,C(),window.addEventListener("resize",function(){w.width=window.innerWidth,w.height=window.innerHeight,h.aspect=w.width/w.height,h.updateProjectionMatrix(),y.setSize(w.width,w.height),y.setPixelRatio(Math.min(window.devicePixelRatio,c?3:1))})},[e,g,n]),(0,B.jsxs)("div",{className:v.backgroundContainer,id:"backgroundContainer",children:[(0,B.jsx)("div",{className:v.mask}),(0,B.jsx)("canvas",{className:"webgl"})]})},u=b},48782:function(ee,F,t){t.d(F,{Z:function(){return e}});var X=t(67294),o=t(34097),D=t(1194),v=t(71577),B={modal:"modal___IY4Fz",codeInput:"codeInput___xcapy",verifyForm:"verifyForm___RWy7A",highLight:"highLight___BAlF9",verifyInput:"verifyInput___jfIMo",buttons:"buttons___NlwqO",button:"button___TcFZ3",title:"title___EFaYc"},b=t(54549),u=t(85893),f=o.Z.Title,i=function(n){var c=n.visable,x=n.title,p=n.content,W=n.footer,Z=n.close,k=n.bodyStyle,P=n.width;return(0,u.jsx)(D.Z,{title:x?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(f,{level:3,className:B.title,children:x})}):!1,closable:!!Z,closeIcon:(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(v.Z,{shape:"circle",size:"large",type:"ghost",icon:(0,u.jsx)(b.Z,{style:{color:"#fff",fontSize:"2rem",fontWeight:900},onClick:Z})})}),className:B.modal,centered:!0,visible:c,width:P||550,footer:W,bodyStyle:k,children:p})},e=i},89795:function(ee,F,t){t.d(F,{Z:function(){return h}});var X=t(55559),o=t.n(X),D=t(80164),v=t.n(D),B=t(45223),b=t.n(B),u=t(71577),f=t(67294),i=t(95952),e={headerContainer:"headerContainer___e_nnB",logo:"logo___juXI0",logoImg:"logoImg___rHEMp",connectWallet:"connectWallet___bfEju",connectWalletBtn:"connectWalletBtn___DxNG5",icon:"icon___vTNbU",rightInfo:"rightInfo____qyf2",account:"account___qXfAf",menuButton:"menuButton___l5Mdk",headerMenu:"headerMenu___VP9R_",menuItem:"menuItem___oSyZT"},g=t(89583),n=t(75552),c=t(2037),x=t(55035),p={breedPriceModal:"breedPriceModal___SSdKN",arrowIcon:"arrowIcon___HWrbV",breedPriceInputContainer:"breedPriceInputContainer___EQW0F",userInputContainer:"userInputContainer___feMMg",input:"input___lj5jz",button:"button___hWZUH"},W=t(48782),Z=t(38648),k=t(21560),P=t(64594),s=t(77616),a=t(85893),L=function(M){var C=M.setBreedPriceModal,S=M.breedPriceModal,l=(0,i.useModel)("web3"),d=l.Account,y=l.ChainId,E=(0,f.useState)(),m=v()(E,2),j=m[0],H=m[1],R=(0,f.useState)(),V=v()(R,2),U=V[0],Q=V[1],Y=(0,f.useState)(!1),ne=v()(Y,2),re=ne[0],K=ne[1],G=(0,i.useIntl)(),J=(0,i.useModel)("astroContracts"),N=J.PrimeContract,q=J.OrdinaryContract;(0,f.useEffect)(function(){},[y,d]);var A=function(){var _=o()(b().mark(function $(){var le,ce,se,ie;return b().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return K(!0),r.prev=1,r.next=4,N?.ownerOf(j);case 4:if(le=r.sent,le===P.Kn(d)){r.next=9;break}return Z.Z.error({message:"You are not the owner of this token.",duration:null}),K(!1),r.abrupt("return");case 9:return r.next=11,q?.setBreedPrice(j,U);case 11:ce=r.sent,console.log("tx",ce),K(!1),C(!1),r.next=22;break;case 17:r.prev=17,r.t0=r.catch(1),console.log((r.t0===null||r.t0===void 0||(se=r.t0.error)===null||se===void 0?void 0:se.message)||(r.t0===null||r.t0===void 0?void 0:r.t0.message)||r.t0),Z.Z.error({message:(r.t0===null||r.t0===void 0||(ie=r.t0.error)===null||ie===void 0?void 0:ie.message)||(r.t0===null||r.t0===void 0?void 0:r.t0.message)||r.t0,duration:null}),K(!1);case 22:case"end":return r.stop()}},$,null,[[1,17]])}));return function(){return _.apply(this,arguments)}}();return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(W.Z,{visable:S,title:void 0,bodyStyle:{backgroundColor:"#000",border:"2px solid #fff"},content:(0,a.jsxs)("div",{className:p.breedPriceInputContainer,children:[(0,a.jsx)("div",{className:p.userInputContainer,children:G.formatMessage({id:"astro.breedPriceInput",defaultMessage:"I want to set {tokenId} breed price to {price}."},{tokenId:(0,a.jsx)(k.Z,{className:p.input,placeholder:G.formatMessage({id:"astro.tokenIdInputPlaceholder",defaultMessage:"Token ID"}),type:"number",min:1,onChange:function($){H($)}}),price:(0,a.jsx)(k.Z,{className:p.input,placeholder:G.formatMessage({id:"astro.breedPriceInputPlaceholder",defaultMessage:"Price"}),type:"number",min:0,onChange:function($){$&&Q(s.fi($.toString()).toString())}})})}),(0,a.jsx)(u.Z,{size:"large",shape:"round",type:"primary",className:p.button,disabled:!j||!U,loading:re,onClick:function(){A()},children:G.formatMessage({id:"astro.confirm",defaultMessage:"Confirm"})})]}),footer:!1,close:function(){C(!1)}})})},I=L,O=t(99507),T=function(){var M=(0,i.useModel)("web3"),C=M.Account,S=M.ChainId,l=M.connect,d=M.disconnect,y=(0,i.useModel)("@@initialState"),E=y.initialState,m=(0,f.useState)(!1),j=v()(m,2),H=j[0],R=j[1],V=(0,f.useState)(!1),U=v()(V,2),Q=U[0],Y=U[1],ne=(0,f.useState)(!1),re=v()(ne,2),K=re[0],G=re[1],J=(0,i.useIntl)();return(0,f.useEffect)(function(){G(S===4)},[S,C]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:e.headerContainer,children:[(0,a.jsxs)("div",{className:e.logo,onClick:function(){i.history.push("/")},children:[(0,a.jsx)("img",{src:"/images/background/moon.svg",className:e.logoImg,alt:"MetaAstro"}),(0,a.jsx)("span",{children:"MetaAstro"})]}),(0,a.jsx)("div",{className:e.connectWallet,children:(!(E!=null&&E.leftDays)||E?.leftDays===0)&&(0,a.jsx)(a.Fragment,{children:!!C&&K?(0,a.jsxs)("div",{className:e.menuButton,children:[(0,a.jsx)(u.Z,{type:"default",size:"large",shape:"round",className:e.connectWalletBtn,icon:(0,a.jsx)(g.OZg,{className:e.icon}),onClick:function(){R(!H)},children:"".concat(C.substring(0,6),"...").concat(C.slice(-4))}),(0,a.jsxs)("div",{className:e.headerMenu,style:{height:H?"200px":"0"},children:[(0,a.jsxs)("div",{className:e.menuItem,onClick:function(){Y(!0)},children:[(0,a.jsx)(n.Z,{className:e.icon}),J.formatMessage({id:"header.menu.breedPrice",defaultMessage:"Breed Price"})]}),(0,a.jsxs)("div",{className:e.menuItem,onClick:function(){window.open("".concat(O.cB.url,"/").concat(C,"/").concat(O.cB.collection),"_blank")},children:[(0,a.jsx)(c.Z,{className:e.icon}),J.formatMessage({id:"header.menu.onOpensea",defaultMessage:"On Opensea"})]}),(0,a.jsxs)("div",{className:e.menuItem,onClick:o()(b().mark(function N(){return b().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,d();case 2:R(!1);case 3:case"end":return A.stop()}},N)})),children:[(0,a.jsx)(x.Z,{className:e.icon}),J.formatMessage({id:"header.menu.logout",defaultMessage:"Logout"})]})]})]}):(0,a.jsx)(u.Z,{type:"default",size:"large",shape:"round",className:e.connectWalletBtn,icon:(0,a.jsx)(g.OZg,{className:e.icon}),onClick:o()(b().mark(function N(){return b().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,l();case 2:case"end":return A.stop()}},N)})),children:J.formatMessage({id:"header.connectWallet",defaultMessage:"Connect Wallet"})})})})]}),(0,a.jsx)(I,{setBreedPriceModal:Y,breedPriceModal:Q})]})},ae=T,z=t(97183),oe=z.Z.Content,w=function(M){var C=M.children;return(0,a.jsxs)(z.Z,{children:[(0,a.jsx)(ae,{}),(0,a.jsx)(oe,{children:C})]})},h=w},26853:function(ee,F,t){t.d(F,{DL:function(){return u},Eg:function(){return D},Nc:function(){return f},tP:function(){return B}});var X=function(e,g){for(var n=[],c=e;c<g;c++)n.push(c);return n},o=function(e){var g="",n="",c,x="",p="",W="",Z="",k=e.match(".*?;"),P=e.match("; .*?\\("),s=e.match("error=.*?\\}, method"),a=e.match("method=.*?,"),L=e.match("transaction=.*?}, code"),I=e.match("code=.*?,"),O=e.match("version=.*?\\)");if(k&&(g=k[0].slice(0,-1)),P&&(n=P[0].slice(2,-1)),s){var T=s[0].slice(6,-8);c=JSON.parse(T)}return a&&(x=a[0].slice(8,-2)),L&&(p=L[0].slice(12,-6)),I&&(W=I[0].slice(5,-1)),O&&(Z=O[0].slice(8,-1)),{header:g,subHeader:n,body:c,method:x,transaction:p,code:W,version:Z}},D=function(e){return e%4!=0?!1:e%100!=0?!0:e%400==0},v=function(e){return(e<10?"0":"")+e},B=function(){var e=new Date,g=e.getFullYear(),n=v(e.getMonth()+1),c=v(e.getDate());return"".concat(g,"-").concat(n,"-").concat(c)},b=function(e){switch(e){case 1:return"1st";case 2:return"2nd";case 3:return"3rd";default:return"".concat(e,"th")}},u=function(){return["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"]},f=function(e){if(e)switch(e){case 1:return"JAN";case 2:return"FEB";case 3:return"MAR";case 4:return"APR";case 5:return"MAY";case 6:return"JUN";case 7:return"JUL";case 8:return"AUG";case 9:return"SEP";case 10:return"OCT";case 11:return"NOV";case 12:return"DEC"}}},90208:function(ee,F){F.Z={mainContainer:"mainContainer___hW8LP",pageContainer:"pageContainer___gxCEw"}}}]);
