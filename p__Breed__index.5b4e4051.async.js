"use strict";(self.webpackChunkmeta_astro=self.webpackChunkmeta_astro||[]).push([[848],{46011:function(F,_,e){var P=e(80164),f=e.n(P),C=e(67294),t=e(87205),T=e(95952),c=e(71577),n=e(83509),D=e(32869),a=e(85893),i=function(u){var l=u.lat,d=u.lng,L=u.utcOffset,U=u.breed,N=u.setStep,b=u.setLat,x=u.setLng,E=u.setUTCOffset,v=(0,C.useState)(!1),h=f()(v,2),I=h[0],O=h[1],G=(0,C.useState)("Please select your city"),w=f()(G,2),re=w[0],s=w[1],Y=(0,T.useIntl)();return(0,a.jsxs)("div",{className:t.Z.nftWrapper,children:[(0,a.jsx)("div",{className:t.Z.nftTitle,children:U?Y.formatMessage({id:"astro.inputCity",defaultMessage:"1/3, Where were you born, dear god's candidate?"}):Y.formatMessage({id:"astro.inputCity",defaultMessage:"1/4, Where were you born, dear god's candidate?"})}),(0,a.jsxs)("div",{className:t.Z.inputContainer,children:[(0,a.jsx)("div",{className:t.Z.prefix,children:Y.formatMessage({id:"astro.city.prefix",defaultMessage:"I was born in"})}),(0,a.jsx)(n.Z,{onSuggestSelect:function(W){W!=null&&W.location&&(b(W.location.lat),x(W.location.lng),E(W.gmaps.utc_offset_minutes/60)),O(!1)},placeholder:re,onFocus:function(){s("")},onBlur:function(){s("Please select your city")},inputClassName:t.Z.geoInput,className:t.Z.geoSuggest,suggestsClassName:t.Z.geoSuggestWrapper,suggestItemClassName:t.Z.geoSuggestWrapperItem,suggestsHiddenClassName:I?t.Z.geoSuggestWrapperShow:t.Z.geoSuggestWrapperHidden,maxFixtures:5,types:["(cities)"],ignoreTab:!0,ignoreEnter:!0}),(0,a.jsx)(D.Z,{})]}),(0,a.jsx)("div",{className:t.Z.buttons,children:(0,a.jsx)(c.Z,{size:"large",shape:"round",type:"primary",className:t.Z.button,disabled:!l||!d||!L,onClick:function(){N(2)},children:Y.formatMessage({id:"astro.nextStep",defaultMessage:"Next Step"})})})]})};_.Z=i},55062:function(F,_,e){var P=e(80164),f=e.n(P),C=e(67294),t=e(87205),T=e(95952),c=e(68351),n=e(71577),D=e(32869),a=e(85893),i=function(u){var l=u.timeOfBirth,d=u.breed,L=u.setStep,U=u.setTimeOfBirth,N=(0,C.useState)("Please select your time of birth"),b=f()(N,2),x=b[0],E=b[1],v=(0,T.useIntl)();return(0,a.jsxs)("div",{className:t.Z.nftWrapper,children:[(0,a.jsx)("div",{className:t.Z.nftTitle,children:d?v.formatMessage({id:"astro.inputYear",defaultMessage:"3/3, Submit more info to generate your MetaAstro."}):v.formatMessage({id:"astro.inputYear",defaultMessage:"4/4, Submit more info to generate your MetaAstro."})}),(0,a.jsxs)("div",{className:t.Z.inputContainer,children:[(0,a.jsx)("div",{className:t.Z.prefix,children:v.formatMessage({id:"astro.time.prefix",defaultMessage:"My birth time is"})}),(0,a.jsx)(c.Z,{inputReadOnly:!0,className:t.Z.input,allowClear:!1,suffixIcon:void 0,format:["HH:mm:ss"],placeholder:x,onChange:function(I,O){U(O.split(":"))},onFocus:function(){E("")},onBlur:function(){E("Please select your time of birth")},renderExtraFooter:function(){return(0,a.jsxs)("div",{className:t.Z.timePickerFooter,children:[(0,a.jsx)("span",{children:"Hour"}),(0,a.jsx)("span",{children:"Minute"}),(0,a.jsx)("span",{children:"Second"})]})}}),(0,a.jsx)(D.Z,{})]}),(0,a.jsx)("div",{className:t.Z.buttons,children:(0,a.jsx)(n.Z,{size:"large",shape:"round",type:"primary",className:t.Z.button,disabled:!l.length,onClick:function(){L(d?4:5)},children:v.formatMessage({id:"astro.nextStep",defaultMessage:"Next Step"})})})]})};_.Z=i},68720:function(F,_,e){var P=e(80164),f=e.n(P),C=e(67294),t=e(87205),T=e(95952),c=e(94500),n=e(71577),D=e(30381),a=e.n(D),i=e(85893),j=function(l){var d=l.yearOfBirth,L=l.breed,U=l.setStep,N=l.setYearOfBirth,b=(0,C.useState)("Please select your year of birth"),x=f()(b,2),E=x[0],v=x[1],h=(0,T.useIntl)();return(0,C.useEffect)(function(){N(1990)},[]),(0,i.jsxs)("div",{className:t.Z.nftWrapper,children:[(0,i.jsx)("div",{className:t.Z.nftTitle,children:L?h.formatMessage({id:"astro.inputYear",defaultMessage:"2/3, What is your birth year?"}):h.formatMessage({id:"astro.inputYear",defaultMessage:"2/4, What is your birth year?"})}),(0,i.jsxs)("div",{className:t.Z.inputContainer,children:[(0,i.jsx)("div",{className:t.Z.prefix,children:h.formatMessage({id:"astro.year.prefix",defaultMessage:"I was born in"})}),(0,i.jsx)(c.Z,{className:t.Z.input,allowClear:!1,suffixIcon:void 0,picker:"year",format:["YYYY","YY"],onChange:function(O,G){N(Number(G))},defaultValue:a()("1990","YYYY"),placeholder:d?.toString()||E,onClick:function(){v("")},onBlur:function(){v("Please select your year of birth")}})]}),(0,i.jsx)("div",{className:t.Z.buttons,children:(0,i.jsx)(n.Z,{size:"large",shape:"round",type:"primary",className:t.Z.button,disabled:!d,onClick:function(){U(3)},children:h.formatMessage({id:"astro.nextStep",defaultMessage:"Next Step"})})})]})};_.Z=j},9125:function(F,_,e){e.r(_),e.d(_,{default:function(){return Ve}});var P=e(55559),f=e.n(P),C=e(80164),t=e.n(C),T=e(45223),c=e.n(T),n=e(67294),D=e(90208),a={getchartContainer:"getchartContainer___VTcQ3",topContainer:"topContainer___aQQIJ",currentPhase:"currentPhase___eHUDm",colon:"colon___Tutpn",contentContainer:"contentContainer___Fxych",mainTitleContainer:"mainTitleContainer___lQuhv",beTheMetaAstroGod:"beTheMetaAstroGod___gtdGA",monthAndDay:"monthAndDay___s53_s",monthCount:"monthCount___yFbFr",monthCountItem:"monthCountItem___wYQso",monthCountStatic:"monthCountStatic___DfOgr",mintYourSoulNFT:"mintYourSoulNFT___psWyK",nftContainer:"nftContainer___XaS3m",mintCount:"mintCount___MeRzc",modalContainer:"modalContainer___zT1EH",background:"background___kWrzf",tipContainer:"tipContainer___hQPVv",chartContainer:"chartContainer___Ruz40",chart:"chart___GrnKc",copyBreedLink:"copyBreedLink___ujEPI",openSeaLink:"openSeaLink___RWTfR"},i=e(95952),j=e(22325),u=e(38755),l=e(2593),d=e(26853),L=e(46011),U=e(68720),N=e(55062),b=e(68443),x=e(24374),E=e(38648),v=e(71577),h=e(55026),I=e(87205),O={countdown:"countdown___zw5Gu",priceContainer:"priceContainer___jI1_x",totalContainer:"totalContainer_____pG5",currentPrice:"currentPrice___vTAco",currentTotal:"currentTotal___HTAlr",ethIcon:"ethIcon___PJXGh",auctionDetailContainer:"auctionDetailContainer___Vldvc",auctionDetailWrapper:"auctionDetailWrapper___U5chE",auctionDetailTitle:"auctionDetailTitle____61tz",generating:"generating___u32Tz"},G=e(77616),w=e(11382),re=e(86504),s=e(85893),Y=function(m){var A=m.currentPrice,R=m.currentFee,q=m.loadSVG,oe=m.loading,o=m.astroSVG,ie=m.lat,ee=m.lng,H=m.utcOffset,le=m.yearOfBirth,ue=m.dateOfBirth,te=m.timeOfBirth,$=m.setModal,de=m.handleSubmit,z=(0,i.useIntl)();return(0,s.jsxs)("div",{className:I.Z.nftWrapper,children:[(0,s.jsxs)("div",{className:O.priceContainer,children:[(0,s.jsx)("div",{className:O.currentPrice,children:A?G.dF(l.O$.from(A)):"--"}),(0,s.jsxs)("div",{className:O.ethIcon,children:[(0,s.jsx)("img",{src:"/images/crypto/ethereum-eth-logo.svg",alt:"eth"}),(0,s.jsx)("span",{children:"ETH"})]})]}),(0,s.jsx)("div",{className:O.totalContainer,children:(0,s.jsx)("div",{className:O.currentTotal,children:z.formatMessage({id:"astro.total",defaultMessage:"Total cost {total}ETH (Oracle operator gas fee: {fee}ETH)"},{total:A&&R?Math.floor(Number(G.dF(l.O$.from(A).add(l.O$.from(R))))*100)/100:"--",fee:R?Math.floor(Number(G.dF(l.O$.from(R)))*100)/100:"--"})})}),q&&(0,s.jsx)(w.Z,{size:"large",className:O.generating,indicator:(0,s.jsx)(re.Z,{style:{color:"#fff",marginLeft:"10px",marginRight:"10px"},spin:!0}),tip:(0,s.jsx)("div",{style:{color:"#fff"},children:z.formatMessage({id:"astro.generating",defaultMessage:"Waiting for oracle..."})})}),(0,s.jsxs)("div",{className:I.Z.buttons,children:[!q&&!o&&(0,s.jsx)(v.Z,{size:"large",shape:"round",type:"primary",className:I.Z.button,disabled:!ie||!ee||!H||!le||!ue.length||!te.length,loading:oe,onClick:function(){de()},children:z.formatMessage({id:"astro.getURChart",defaultMessage:"Mint Your MetaAstro"})}),o&&(0,s.jsx)(v.Z,{size:"large",shape:"round",type:"primary",className:O.button,onClick:function(){$(!0)},children:z.formatMessage({id:"astro.viewMyChart",defaultMessage:"View Your MetaAstro"})})]})]})},Q=Y,W=e(48782),ke=e(20640),Fe=e.n(ke),Se=e(99507),Ye=e(89795),ne=e(48764).Buffer,ze=function(){var m=(0,i.useModel)("web3"),A=m.Account,R=m.ChainId,q=m.connect,oe=(0,i.useModel)("astroContracts"),o=oe.OrdinaryContract,ie=(0,n.useState)(0),ee=t()(ie,2),H=ee[0],le=ee[1],ue=(0,n.useState)(0),te=t()(ue,2),$=te[0],de=te[1],z=(0,n.useState)(0),ae=t()(z,2),ce=ae[0],He=ae[1],$e=(0,n.useState)(),Ce=t()($e,2),me=Ce[0],Je=Ce[1],Xe=(0,n.useState)([]),Ee=t()(Xe,2),K=Ee[0],we=Ee[1],qe=(0,n.useState)([]),Oe=t()(qe,2),J=Oe[0],et=Oe[1],tt=(0,n.useState)(!1),ye=t()(tt,2),at=ye[0],fe=ye[1],st=(0,n.useState)(!1),Pe=t()(st,2),rt=Pe[0],Te=Pe[1],nt=(0,n.useState)(),De=t()(nt,2),ot=De[0],it=De[1],lt=(0,n.useState)(),je=t()(lt,2),ut=je[0],dt=je[1],ct=(0,n.useState)(),Ie=t()(ct,2),Be=Ie[0],mt=Ie[1],ft=(0,n.useState)(),Ae=t()(ft,2),V=Ae[0],gt=Ae[1],_t=(0,n.useState)(!1),Ne=t()(_t,2),vt=Ne[0],ge=Ne[1],ht=(0,n.useState)(1),be=t()(ht,2),se=be[0],_e=be[1],Z=(0,i.useIntl)(),y=j.parse(window.location.search),xe=function(){var p=f()(c().mark(function g(){var M,k;return c().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,o?.getOracleGasFee();case 2:return M=B.sent,B.next=5,o?.getBreedConfig(y?.tokenID);case 5:k=B.sent,k&&it(k[1]),M&&dt(M);case 8:case"end":return B.stop()}},g)}));return function(){return p.apply(this,arguments)}}(),pt=function(){var p=f()(c().mark(function g(){var M;return c().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.prev=0,S.next=3,o?.getAstroArgsOf(y?.tokenID);case 3:M=S.sent,M!=null&&M.exists?we(M?.monthAndDay):(E.Z.error({message:Z.formatMessage({id:"astro.error.notFound",defaultMessage:"Not found this token ID, please check it again"}),duration:null}),i.history.push("/")),S.next=11;break;case 7:S.prev=7,S.t0=S.catch(0),E.Z.error({message:Z.formatMessage({id:"astro.error.notFound",defaultMessage:"Not found this token ID, please check it again"}),duration:null}),i.history.push("/");case 11:case"end":return S.stop()}},g,null,[[0,7]])}));return function(){return p.apply(this,arguments)}}(),Mt=function(){var p=f()(c().mark(function g(){var M,k,S,B,ve,We,he,pe;return c().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return fe(!0),r.prev=1,r.next=4,o?.getOracleGasFee();case 4:return M=r.sent,r.next=7,o?.getBreedConfig(y?.tokenID);case 7:return k=r.sent,r.next=10,(0,b.k)("".concat(Number(me),",").concat(Number(J[0]),",").concat(Number(J[1]),",").concat(Number(J[2]),",").concat(Math.round($*100),",").concat(Math.round(H*100),",").concat(Math.round(ce*100)));case 10:return S=r.sent,r.next=13,o?.breedFrom(y?.tokenID,[Number(K[0]),Number(K[1])],encodeURIComponent(S),{value:l.O$.from(k[1]).add(l.O$.from(M))});case 13:return B=r.sent,r.next=16,(0,x.x)(B);case 16:ve=r.sent,gt(ve),Te(!0),We=setInterval(f()(c().mark(function St(){var Ze,Le,Ue,Ge,Me,Re,Ke;return c().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,o?.tokenURI(ve);case 2:Ze=X.sent,Le=Ze.substring(29),Ue=ne.from(Le,"base64").toString("binary"),Ge=JSON.parse(Ue),Me=ne.from(Ge.image.substring(26),"base64").toString("utf8"),Me.indexOf("generating")===-1&&(Re=Me.replace(/\<path.*?/,"").replace(/\<rect.*?fill=\"none\".*?\/>/,"").replace(/\<radialGradient id=\"darkLight\"\>.*?\<\/radialGradient\>/,'<radialGradient id="darkLight"><stop offset="0%" stop-color="#707070" /><stop offset="3%" stop-color="#1b1b1b" /><stop offset="8%" stop-color="#000000" /></radialGradient>'),Ke=ne.from(Re).toString("base64"),mt("data:image/svg+xml;base64,"+Ke),Te(!1),clearInterval(We),ge(!0));case 8:case"end":return X.stop()}},St)})),3e3),fe(!1),r.next=28;break;case 23:r.prev=23,r.t0=r.catch(1),console.log((r.t0===null||r.t0===void 0||(he=r.t0.error)===null||he===void 0?void 0:he.message)||(r.t0===null||r.t0===void 0?void 0:r.t0.message)||r.t0),E.Z.error({message:(r.t0===null||r.t0===void 0||(pe=r.t0.error)===null||pe===void 0?void 0:pe.message)||(r.t0===null||r.t0===void 0?void 0:r.t0.message)||r.t0,duration:null}),fe(!1);case 28:case"end":return r.stop()}},g,null,[[1,23]])}));return function(){return p.apply(this,arguments)}}();return(0,n.useEffect)(function(){if(R!==4){E.Z.error({message:"Unsupported Chain",description:"This feature is only supported on Rinkeby",duration:null}),i.history.push("/");return}},[R]),(0,n.useEffect)(function(){if(!A)try{q()}catch(g){var p;E.Z.error({message:(g==null||(p=g.error)===null||p===void 0?void 0:p.message)||g?.message||g})}},[A]),(0,n.useEffect)(function(){!!o&&!!A&&(xe(),pt(),setInterval(function(){var p=new Date;p.getMinutes()%10===0&&xe()},1e3))},[A,o]),(0,s.jsxs)(Ye.Z,{children:[(0,s.jsxs)("div",{className:D.Z.mainContainer,children:[(0,s.jsx)(u.Z,{complex:!1}),(0,s.jsxs)("div",{className:a.getchartContainer,children:[(0,s.jsxs)("div",{className:a.topContainer,children:[(0,s.jsx)("div",{className:a.currentPhase,children:Z.formatMessage({id:"astro.phase",defaultMessage:"MetaAstro Phase {phase}"},{phase:"II"})}),(0,s.jsx)("span",{className:a.colon,children:":"}),(0,s.jsx)("div",{className:a.genesisOfTheGod,children:Z.formatMessage({id:"astro.continuation",defaultMessage:"Continuation of the God"})})]}),(0,s.jsxs)("div",{className:a.contentContainer,children:[(0,s.jsxs)("div",{className:a.mainTitleContainer,children:[(0,s.jsx)("div",{className:a.beTheMetaAstroGod,children:Z.formatMessage({id:"astro.beTheMetaAstroGod",defaultMessage:"Be the MetaAstro God of {monthAndDay}"},{monthAndDay:(0,s.jsxs)("div",{className:a.monthAndDay,style:{color:"#ff5b00"},children:[(0,s.jsx)("div",{className:a.monthCountStatic,children:(0,s.jsx)("div",{className:a.monthCountItem,children:(0,d.Nc)(Number(K[0]))})})," ",K[1]]})})}),(0,s.jsx)("div",{className:a.mintYourSoulNFT,children:Z.formatMessage({id:"astro.mintYourSoulBoundNFTToday",defaultMessage:"Mint your soul-bound NFT today"})})]}),(0,s.jsxs)("div",{className:a.nftContainer,children:[se===1&&(0,s.jsx)(L.Z,{breed:!0,lat:H,lng:$,utcOffset:ce,setStep:_e,setLat:le,setLng:de,setUTCOffset:He}),se===2&&(0,s.jsx)(U.Z,{breed:!0,yearOfBirth:me,setStep:_e,setYearOfBirth:Je}),se===3&&(0,s.jsx)(N.Z,{breed:!0,timeOfBirth:J,setStep:_e,setTimeOfBirth:et}),se===4&&(0,s.jsx)(Q,{currentPrice:ot,currentFee:ut,loadSVG:rt,loading:at,astroSVG:Be,lat:H,lng:$,utcOffset:ce,yearOfBirth:me,dateOfBirth:K,timeOfBirth:J,setModal:ge,handleSubmit:Mt})]})]})]})]}),(0,s.jsx)(W.Z,{visable:vt,title:void 0,content:(0,s.jsxs)("div",{className:a.modalContainer,children:[(0,s.jsxs)("div",{className:a.tipContainer,children:["Congratulations!",(0,s.jsx)("br",{}),"You are the god of",(0,s.jsx)("br",{}),(0,s.jsxs)("div",{className:a.monthAndDay,children:[K[0],"/",K[1]]})]}),(0,s.jsx)("div",{className:a.chartContainer,children:(0,s.jsx)("div",{className:a.chart,children:(0,s.jsx)("img",{src:Be,alt:"astro"})})}),(0,s.jsx)(v.Z,{block:!0,type:"link",size:"large",onClick:function(){Fe()("".concat(window.location.origin,"/breed?tokenID=").concat(V?.toString())),h.ZP.success("Copy Success!")},className:a.copyBreedLink,children:Z.formatMessage({id:"astro.copyBreedLink",defaultMessage:"Copy Breed Link"})}),(0,s.jsx)(v.Z,{block:!0,type:"link",size:"large",onClick:function(){window.open("".concat(Se.cB.url,"/assets/").concat(Se.q7.prime[4],"/").concat(V?.toString()),"_blank")},className:a.openSeaLink,children:Z.formatMessage({id:"astro.gotoOpenSea",defaultMessage:"Go to OpenSea"})})]}),footer:!1,bodyStyle:{backgroundColor:"#000",background:"url(/images/background/tarot.svg) #000",backgroundSize:"cover",backgroundPosition:"center",padding:0},close:function(){ge(!1)}})]})},Ve=ze},24374:function(F,_,e){e.d(_,{x:function(){return n}});var P=e(55559),f=e.n(P),C=e(45223),t=e.n(C);function T(a,i){return c.apply(this,arguments)}function c(){return c=f()(t().mark(function a(i,j){var u;return t().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,i.wait();case 2:if(u=d.sent.events,!(!u||!u[0].args)){d.next=5;break}return d.abrupt("return",void 0);case 5:return d.abrupt("return",j(u[0]));case 6:case"end":return d.stop()}},a)})),c.apply(this,arguments)}function n(a){return D.apply(this,arguments)}function D(){return D=f()(t().mark(function a(i){var j;return t().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,T(i,function(d){return d.args.tokenId});case 2:if(j=l.sent,j){l.next=5;break}throw new Error;case 5:return l.abrupt("return",j);case 6:case"end":return l.stop()}},a)})),D.apply(this,arguments)}},68443:function(F,_,e){e.d(_,{k:function(){return C}});var P=e(86508),f="MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDOPcw3rIferK9z0TeJrWj20yewihSc+OWa3/Uzmzqcr+SBvJvkx8Enblc1v4uqUFM9iNztGiiEqUElz2mjUIQ2TdxYC62rui0kb+VE6sykIt43DmQD0NQ9X/DqCl+mJJ9uG8Mj/h1OnCBhrrVadjprn/tfSnBHVZwh+y4dZerapQIDAQAB",C=function(T){var c=new P.X;c.setPublicKey(f);var n=c.encrypt(T);return n.toString()}},87205:function(F,_){_.Z={nftWrapper:"nftWrapper___swXlh",nftTitle:"nftTitle____rrtg",inputContainer:"inputContainer___3Y2LA",prefix:"prefix___If8tf",input:"input___a6lYF",nftItem:"nftItem___Y8Kg6",active:"active___T5Wp1",buttons:"buttons___Z7Q5T",button:"button___WKSVF",geoSuggest:"geoSuggest___Rp2vc",geoInput:"geoInput___vS1C8",geoSuggestWrapper:"geoSuggestWrapper___tka9T",geoSuggestWrapperItem:"geoSuggestWrapperItem___SpXsz",geoSuggestWrapperShow:"geoSuggestWrapperShow___E4PFf",geoSuggestWrapperHidden:"geoSuggestWrapperHidden___rvgkq",timePickerFooter:"timePickerFooter___ESrMS"}}}]);
